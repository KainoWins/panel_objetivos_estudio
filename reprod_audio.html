<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controles Personalizados de Audio</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

    <h1>Reproductor de Audio con Controles Personalizados</h1>

    <div class="row bg-secondary ">


    <!-- Elemento de audio -->
    <audio id="audio-player" controls class="col-6">
        <source src="./02.mp3" type="audio/mpeg">
        Tu navegador no soporta el elemento de audio.
    </audio>

    <!-- Controles personalizados para la velocidad -->
    <div class="col-6">
        <select id="speed-control" id2="01.vol1" class="form-select" aria-label="Default select example">
            <option value="1" selected>Selecciona velocidad</option>
            <option value="0.5">50%</option>
            <option value="0.6">60%</option>
            <option value="0.7">70%</option>
            <option value="0.75">75%</option>
            <option value="0.8">80%</option>
            <option value="0.85">85%</option>
            <option value="0.9">90%</option>
            <option value="0.95">95%</option>
            <option value="1">100% (Normal)</option>
        </select>
    </div>

</div>

    <script>
        // Referencia al elemento de audio
        const audioElement = document.getElementById('audio-player');

        // Referencia al control de velocidad
        const speedControl = document.getElementById('speed-control');

        // Crear el contexto de audio
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();

        // Conectar el audio al contexto de audio
        const track = audioContext.createMediaElementSource(audioElement);

        // Conectar la salida al destino (altavoces)
        track.connect(audioContext.destination);

        // Ajustar la velocidad de reproducci√≥n
        speedControl.addEventListener('change', function () {
            const speed = parseFloat(this.value);
            audioElement.playbackRate = speed;
        });

        // Play el audio al hacer click en reproducir
        audioElement.addEventListener('play', function () {
            audioContext.resume();  // Necesario en algunos navegadores para activar el contexto
        });
    </script>

</body>
</html>
